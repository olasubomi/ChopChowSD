{"ast":null,"code":"import { __awaiter, __generator, __rest } from \"tslib\";\nexport var loggerMiddleware = function loggerMiddleware() {\n  return function (next, context) {\n    return function (args) {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var clientName, commandName, inputFilterSensitiveLog, logger, outputFilterSensitiveLog, response, _a, $metadata, outputWithoutMetadata;\n\n        return __generator(this, function (_b) {\n          switch (_b.label) {\n            case 0:\n              clientName = context.clientName, commandName = context.commandName, inputFilterSensitiveLog = context.inputFilterSensitiveLog, logger = context.logger, outputFilterSensitiveLog = context.outputFilterSensitiveLog;\n              return [4, next(args)];\n\n            case 1:\n              response = _b.sent();\n\n              if (!logger) {\n                return [2, response];\n              }\n\n              if (typeof logger.info === \"function\") {\n                _a = response.output, $metadata = _a.$metadata, outputWithoutMetadata = __rest(_a, [\"$metadata\"]);\n                logger.info({\n                  clientName: clientName,\n                  commandName: commandName,\n                  input: inputFilterSensitiveLog(args.input),\n                  output: outputFilterSensitiveLog(outputWithoutMetadata),\n                  metadata: $metadata\n                });\n              }\n\n              return [2, response];\n          }\n        });\n      });\n    };\n  };\n};\nexport var loggerMiddlewareOptions = {\n  name: \"loggerMiddleware\",\n  tags: [\"LOGGER\"],\n  step: \"initialize\",\n  override: true\n};\nexport var getLoggerPlugin = function getLoggerPlugin(options) {\n  return {\n    applyToStack: function applyToStack(clientStack) {\n      clientStack.add(loggerMiddleware(), loggerMiddlewareOptions);\n    }\n  };\n};","map":{"version":3,"sources":["/home/chuka/joe/ChopChowSD/node_modules/@aws-sdk/middleware-logger/dist-es/loggerMiddleware.js"],"names":["__awaiter","__generator","__rest","loggerMiddleware","next","context","args","clientName","commandName","inputFilterSensitiveLog","logger","outputFilterSensitiveLog","response","_a","$metadata","outputWithoutMetadata","_b","label","sent","info","output","input","metadata","loggerMiddlewareOptions","name","tags","step","override","getLoggerPlugin","options","applyToStack","clientStack","add"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,WAApB,EAAiCC,MAAjC,QAA+C,OAA/C;AACA,OAAO,IAAIC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAY;AACtC,SAAO,UAAUC,IAAV,EAAgBC,OAAhB,EAAyB;AAC5B,WAAO,UAAUC,IAAV,EAAgB;AAAE,aAAON,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AAC1E,YAAIO,UAAJ,EAAgBC,WAAhB,EAA6BC,uBAA7B,EAAsDC,MAAtD,EAA8DC,wBAA9D,EAAwFC,QAAxF,EAAkGC,EAAlG,EAAsGC,SAAtG,EAAiHC,qBAAjH;;AACA,eAAOd,WAAW,CAAC,IAAD,EAAO,UAAUe,EAAV,EAAc;AACnC,kBAAQA,EAAE,CAACC,KAAX;AACI,iBAAK,CAAL;AACIV,cAAAA,UAAU,GAAGF,OAAO,CAACE,UAArB,EAAiCC,WAAW,GAAGH,OAAO,CAACG,WAAvD,EAAoEC,uBAAuB,GAAGJ,OAAO,CAACI,uBAAtG,EAA+HC,MAAM,GAAGL,OAAO,CAACK,MAAhJ,EAAwJC,wBAAwB,GAAGN,OAAO,CAACM,wBAA3L;AACA,qBAAO,CAAC,CAAD,EAAIP,IAAI,CAACE,IAAD,CAAR,CAAP;;AACJ,iBAAK,CAAL;AACIM,cAAAA,QAAQ,GAAGI,EAAE,CAACE,IAAH,EAAX;;AACA,kBAAI,CAACR,MAAL,EAAa;AACT,uBAAO,CAAC,CAAD,EAAIE,QAAJ,CAAP;AACH;;AACD,kBAAI,OAAOF,MAAM,CAACS,IAAd,KAAuB,UAA3B,EAAuC;AACnCN,gBAAAA,EAAE,GAAGD,QAAQ,CAACQ,MAAd,EAAsBN,SAAS,GAAGD,EAAE,CAACC,SAArC,EAAgDC,qBAAqB,GAAGb,MAAM,CAACW,EAAD,EAAK,CAAC,WAAD,CAAL,CAA9E;AACAH,gBAAAA,MAAM,CAACS,IAAP,CAAY;AACRZ,kBAAAA,UAAU,EAAEA,UADJ;AAERC,kBAAAA,WAAW,EAAEA,WAFL;AAGRa,kBAAAA,KAAK,EAAEZ,uBAAuB,CAACH,IAAI,CAACe,KAAN,CAHtB;AAIRD,kBAAAA,MAAM,EAAET,wBAAwB,CAACI,qBAAD,CAJxB;AAKRO,kBAAAA,QAAQ,EAAER;AALF,iBAAZ;AAOH;;AACD,qBAAO,CAAC,CAAD,EAAIF,QAAJ,CAAP;AAnBR;AAqBH,SAtBiB,CAAlB;AAuBH,OAzBwC,CAAhB;AAyBpB,KAzBL;AA0BH,GA3BD;AA4BH,CA7BM;AA8BP,OAAO,IAAIW,uBAAuB,GAAG;AACjCC,EAAAA,IAAI,EAAE,kBAD2B;AAEjCC,EAAAA,IAAI,EAAE,CAAC,QAAD,CAF2B;AAGjCC,EAAAA,IAAI,EAAE,YAH2B;AAIjCC,EAAAA,QAAQ,EAAE;AAJuB,CAA9B;AAMP,OAAO,IAAIC,eAAe,GAAG,SAAlBA,eAAkB,CAAUC,OAAV,EAAmB;AAAE,SAAQ;AACtDC,IAAAA,YAAY,EAAE,sBAAUC,WAAV,EAAuB;AACjCA,MAAAA,WAAW,CAACC,GAAZ,CAAgB7B,gBAAgB,EAAhC,EAAoCoB,uBAApC;AACH;AAHqD,GAAR;AAI7C,CAJE","sourcesContent":["import { __awaiter, __generator, __rest } from \"tslib\";\nexport var loggerMiddleware = function () {\n    return function (next, context) {\n        return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n            var clientName, commandName, inputFilterSensitiveLog, logger, outputFilterSensitiveLog, response, _a, $metadata, outputWithoutMetadata;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        clientName = context.clientName, commandName = context.commandName, inputFilterSensitiveLog = context.inputFilterSensitiveLog, logger = context.logger, outputFilterSensitiveLog = context.outputFilterSensitiveLog;\n                        return [4, next(args)];\n                    case 1:\n                        response = _b.sent();\n                        if (!logger) {\n                            return [2, response];\n                        }\n                        if (typeof logger.info === \"function\") {\n                            _a = response.output, $metadata = _a.$metadata, outputWithoutMetadata = __rest(_a, [\"$metadata\"]);\n                            logger.info({\n                                clientName: clientName,\n                                commandName: commandName,\n                                input: inputFilterSensitiveLog(args.input),\n                                output: outputFilterSensitiveLog(outputWithoutMetadata),\n                                metadata: $metadata,\n                            });\n                        }\n                        return [2, response];\n                }\n            });\n        }); };\n    };\n};\nexport var loggerMiddlewareOptions = {\n    name: \"loggerMiddleware\",\n    tags: [\"LOGGER\"],\n    step: \"initialize\",\n    override: true,\n};\nexport var getLoggerPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(loggerMiddleware(), loggerMiddlewareOptions);\n    },\n}); };\n"]},"metadata":{},"sourceType":"module"}